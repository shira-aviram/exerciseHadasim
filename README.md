# exerciseHadasim
פרויקט קופת חולים 
מאגר קופות חולים המכיל לקוחות. מאפשר רישום לקוח- הוספתו למאגר וכניסה למשתמש- לראות את כל הפרטים שרשומים עליו במאגר. וגישת מנהל להצגת כל הלקוחות, חישוב לקוחות לא מחוסנים וגרף חודשי של מספר החולים.
התקנת הפרויקט
1 יש להריץ את הפקודה: npm start בפרויקט node.  ולראות שהפרויקט לport  8000 והתחבר למסד נתונים.
ההודעות שצריכות להתקבל:
 
 ![image](https://github.com/shira-aviram/exerciseHadasim/assets/118628219/540bdbbb-15ce-4ee0-875c-c92f5aab2c07)

2 יש להריץ את הפקודה:npm start  בפרויקט react. ולראות שהפרויקט הצליח ונפתח דפדפן.
 ![image](https://github.com/shira-aviram/exerciseHadasim/assets/118628219/dc6a65c9-6695-439c-99f7-aeb53144b2a0)

שימוש בפרויקט – צד שרת NODE
אפשר גם ע"י POSTMEN לקבל את הנתונים.
הצגת כל הלקוחות והוספת לקוח חדש לפי הדרישות והתקינות הנדרשת.
שימוש בפרויקט – צד לקוח REACT
כניסת משתמש SIGN IN- כל לקוח של הקופת חולים ע"י הקשת שם מלא ותעודת זהות יכול לקבל את פרטיו האישיים והרפואיים בנושא קורונה.
 
![image](https://github.com/shira-aviram/exerciseHadasim/assets/118628219/a9ad8b10-8158-4ccc-9c2d-0f51977258a0)

הרשמה SING UP – מיועד למי שרוצה להרשם לקופת חולים. ממלא את כל הנתונים לפי הדרישה והתקינות ומוסף אוטומטי למאגר הלקוחות.
 ![image](https://github.com/shira-aviram/exerciseHadasim/assets/118628219/f8e64acd-f08c-4133-8fa2-6e57bd9bc261)












כפתור ניהול MANAGER –מיועד למנהלי הקופה ומאפשר גישה למספר אפשרויות שיפורטו בהמשך.
בלחיצה על הכפתור נדרש להכניס סיסמא שמוגדרת ע"י מערכת הקופת חולים וידועה למנהלים (הסיסמא היא: 1234 כמובן לא בטוחה אך משמשת את מטרתה לפרויקט זה)
שהסיסמא נכונה נוספות אפשרויות ניהול:
 
![image](https://github.com/shira-aviram/exerciseHadasim/assets/118628219/331bfe23-bbf3-495c-a12b-923afb0e6ec2)

הצגת כל פרטי הלקוחות:
 
![image](https://github.com/shira-aviram/exerciseHadasim/assets/118628219/33bce4ae-a926-4932-b0e9-3be998828abc)




הצגת מספר הלקוחות שלא מחוסנים כלל:
 ![image](https://github.com/shira-aviram/exerciseHadasim/assets/118628219/bc183486-aa22-4a8b-a7b1-8b8972f50338)

הצגת מספר החולים היומי של החודש האחרון ע"י גרף
![image](https://github.com/shira-aviram/exerciseHadasim/assets/118628219/3c064163-ee66-461e-a8aa-38de291b68fe)
:
 
                                                                                                                                                                  שאלת בונוס 2-
                                                                                                                                                                  מפרט ארכיטקטוני של המערכת 
ניהול קורונה לקופת חולים
שכבת הנתונים 
מאגר המידע בmongo DB.
שם הdata base : coronaReservior
שם ה: schema  Clients.
Schema Clients  - מתארת עבור כל חבר בקופת חולים את פרטיו האישים ובנושא הקורונה.
פרטי לקוח:
 fullName : String, required
  idCard : String, required
  address : String, required
  dateOfBirth :Date, required
  mobilePhone : String, required
  telephone : String, required
  positive_result_date :Date
  recovery_date :Date
  vaccination_dates :[ Date ]
  vaccine_manufacturers :[ String ] 



שכבת היישום
צד השרת NODE.JS -
שמכיל:
1.	תיקיית models- מכילה את Schema Clients  
2.	תיקיית controllers – מכילה פונקציות:addClient getAllClients  
3.	תיקיית routers- מכילה ניתובים לפונקציות ב controllers

שכבת המצגת
צד לקוח, API –REACT
שכולל את :
1.	App.js – דף ראשי. מכיל את הקומפוננטה Routings 
2.	Index.js –  הדף שרץ בדפדפן. רינדור הקומפוננטה App(פעם אחת).
3.	Api.js – getAllClients  : קבלת כל מערך הלקוחות מהמסד נתונים. addClient: הוספת לקוח למסד נתונים.
4.	Routings.js – מכיל את הניתובים לדפים השונים.
5.	Layout.js – מערך, סרגל הניתובים ל: 
- Sign In : כניסת לקוח
- :Sign Up הרשמת לקוח
- Manager: כפתור לגישת מנהל
6.	SignUp.js – הרשמה. הוספת לקוח למסד נתונים.
7.	SignIn.js – כניסה לפרטי הלקוח.
8.	Manager.js – כניסה למנהל קופת חולים  ע"י הקשת קוד(1234), ואפשור גישה לדפים הבאים:
9.	Clientsdetails.js – פרטי כל הלקוחות.
10.	Activeclients.js – חישוב מספר לקוחות חולים בכל יום לפי חודש קודם.
11.	Unvacciatedclients.js – חישוב מספר לקוחות לא מחוסנים.


החיבור בין השכבות
המסד נתונים לשרת:
קובץ .env
DB_CONNECT="mongodb+srv://shira:shira214124307@cluster0.mp7fcd1.mongodb.net/coronaReservoir?retryWrites=true&w=majority"
PORT=8000

בקובץ app.js
mongoose.connect(process.env.DB_CONNECT, connectionParams)
    .then(() => {
        console.log('connected to db')
    }).catch(err => {
        console.log(err)
    })

app.listen(process.env.PORT, () => { console.log(`listening port ${process.env.PORT}`) })






השרת לצד לקוח:
הגדרה בAPI נקודות קצה עבור פעולות שונות, כגון קבלת נתונים, יצירת נתונים, עדכון נתונים ומחיקת נתונים.
getAllClients – הצגת כל הלקוחות מהמסד נתונים
export async function getAllClients() {
    try {
          const res = await fetch('http://localhost:8000/clients', { method: 'GET' });
          const data = await res.json();
          return data;
      } catch (err) {
          console.log(err);
      }
}

addClient- הוספת לקוח למסד נתונים

  export async function addClient(newPost) {

    const myHeaders = new Headers();
    myHeaders.append("Content-Type", "application/json");
    const requestOptions = {
        method: 'POST',
        headers: myHeaders,
        body: JSON.stringify(newPost),
    };

    try {
          const res = await fetch('http://localhost:8000/clients', requestOptions);
          const data = await res.json();
          return data;
      } catch (err) {
          console.log(err);
      }

}


או באמצעות :axios
  useEffect(() => {
    if (clients.length === 0)  {
      axios.get('http://localhost:8000/clients/')
        .then(response => {
          setClients(response.data);
        })
        .catch(err => console.log(err));
    }
  }, [clients])
  



                                                                                                                                                                  חלק ב של התרגיל השני-
                                                                                                                                                                  1. הערות/שאלות מאת RR: 
- מה המספר המקסימלי/מינימלי של אנשים שניתן לכלול בבידוד קבוצתי?
- האם ניתן להוסיף מיקום באופן ידני אם הוא לא זמין בגוגל מפות?
- האם ניתן ליצור בידוד קבוצתי לאנשים שנחשפו לנגיף במקומות שונים?
- כיצד תטפל המערכת בעדכונים עבור אנשים שנוספו לבידוד הקבוצה לאחר יצירתו?
- האם ניתן למחוק או לשנות בידוד קבוצתי לאחר יצירתו?
-מערך האנשים שצריך לעדכן עלול להכיל אנשים שלא רשומים במערכת.
-האם ניתן להוסיף/להסיר אנשים אחרי יצירת הבידוד?
-האם אדם יכול להיות במספר בדודים קבוצתיים?
-האם איכוני הטלפונים מעודכנים כשאדם מחליף מספר וכדומה?
-לא כל האנשים שנחשפו לנגיף כלולים בקופת חולים. איך מתנהל מערך האנשים שאותם צריך לעדכן?
-יש לשים לב לתאריך החלמה תקין ועדכונים שוטפים לחשיפה נוספת. ואיך מתבצע הסנכרון בין תאריכי חשיפה לנגיף שונים
- אין חישוב תאריך החלמה.
-האם ניתן להאריך או לקצר את זמן הבידוד לאחר יצירתו?
- האם ניתן להחיל את תכונת הבידוד הקבוצתית על אנשים שלא נחשפו לנגיף אך היו בקשר הדוק עם מישהו שהיה?
- כיצד תקבע המערכת את הרדיוס המשותף לאנשים שנחשפו לנגיף באותו מקום?
- האם המערכת יכולה להתמודד עם בידודי קבוצות מרובים עבור אותו אדם בזמנים שונים?
- כיצד תטפל המערכת במקרים שבהם חלק מהאנשים בקבוצה כבר חוסנו או החלימו מהנגיף?


ליקויים/פערים באפיון:
-אין ציון על אופן השימוש עם איכוני הטלפונים ואיך משתמשים בזה לדעת מי נחשף.
- לא כל מי שנחשף במקום החשיפה נמצא במאגר הלקוחות ואין אפשרות עדכון עבורו.
-יש ציון רק לתאריך החשיפה ואין התייחסות לטווח הזמן שבו נחשפו לנגיף ויכול להיות שאנשים יכנסו לבידוד לחינם.(יכול להיות שהאדם שהדביק שהה 5 דקות במקום ב10 בבוקר. ואדם אחר הגיע ב11 בלילה לאותו מקום ולא נדבק מאותו אחד)
- אין ציון כיצד המערכת תוודא שאנשי המערך אכן חשופים לווירוס. הוא רק מזכיר שסמלי הטלפון של כלל אוכלוסיית ישראל ישמשו לזיהוים, ומזכיר שמערך של אנשים צריכים להתעדכן בבקשה בצד שרת.
- איון ציון כיצד המערכת תטפל במידע סותר, כגון שני תאריכי חשיפה שונים לווירוס עבור אותו אדם.

2. מסמך בדיקות לפיצ'ר:

בדיקות בצד השרת: 
-בדוק שיש הגנת נתונים ומפני פריצות
-בדוק שהמערכת מקבלת את הנתונים הנכונים מצד לקוח.
- בדוק שבקשה חוקית עם כל השדות הנדרשים מחזירה סטטוס 201.
- בדוק שבקשה עם שדה חסר מחזירה סטטוס 400.
- בדוק שהמערכת יכולה להתמודד עם מקרי קצה, כמו יצירת בידוד קבוצתי לאדם בודד או לקבוצה גדולה של אנשים.
-בדוק אם המערכת עומדת בעומס
- בדוק שהמערכת יכולה להתמודד עם מערכים גדולים של אנשים בבקשה. 
- בדוק שהמערכת יכולה לטפל בבקשות לבידוד קבוצות במקומות שונים.

- בדוק שהמערכת יכולה להתמודד עם עדכונים עבור אנשים שנוספו לבידוד הקבוצה לאחר יצירתו.
- בדוק שהמערכת יכולה להתמודד עם שגיאות או חריגים שעלולים להתרחש במהלך תהליך יצירת בידוד הקבוצה.
- בדוק את יכולת המערכת לטפל בבקשות במקביל ליצירת בידוד קבוצתי. 
- בדוק שהמערכת יכולה  להתמודד עם מידע סותר, כמו שני תאריכי חשיפה שונים לווירוס עבור אותו אדם.
- בדוק שהמערכת יכולה להתמודד עם שגיאות או חריגות שעלולים להתרחש במהלך תהליך יצירת בידוד הקבוצה.
-בדוק שהשרת קובע נכון אילו אנשים צריכים להתעדכן על סמך הנתונים
-בדוק אם ניתן להוציא אדם מבידוד קבוצתי אם נכלל בטעות
-בדוק אם ניתן לעדכן בידוד קבוצתי קיים
-בדוק המערכת מטפלת במקרים בהם תאריך החלמה של אדם מוקדם מתאריך החשיפה


בדיקת צד עמדה:
(אפשר לבדוק את הבדיקות ע"י הכנסת ערכים שגויים בצד עמדה ולראות את התגובה)
-בדוק את השימוש הכללי, ואת התצוגה הנדרשת.
- בדוק שכפתור "צור בידוד קבוצה" פותח את ממשק Iframe עם רכיב מפה של google maps, השדה "תאריך חשיפה לנגיף", וכפתור יצירת בידוד.
-בדוק שרכיב מפה של google maps  עובד ומציג מפה תקינה.
-בדוק שהשדה "תאריך חשיפה לנגיף" מציג לוח תאריכים מעודכן ומאפשר לבחור תאריך.
- בדוק שמוצגת הודעה קופצת אם לא נבחר תאריך/מיקום בלחיצה על כפתור "צור בידוד".
-בדוק שהכפתור "צור בידוד" שומר את הפרטים שהוזנו ושולח אותם תקין לצד שרת.


